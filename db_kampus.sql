
CREATE TABLE JURUSAN (
    KODE VARCHAR(10) PRIMARY KEY,
    NAMA_JURUSAN VARCHAR(100)
);

CREATE TABLE MATAKULIAH (
    KODE_MK VARCHAR(10) PRIMARY KEY,
    NAMA_MK VARCHAR(100),
    SKS INT,
    DESKRIPSI TEXT
);

CREATE TABLE DOSEN (
    NIP VARCHAR(18) PRIMARY KEY,
    NAMA_DOSEN VARCHAR(100),
    ALAMAT TEXT,
    EMAIL VARCHAR(100),
    NO_TELP VARCHAR(15)
);

CREATE TABLE KTM (
    NoKTM CHAR(12) PRIMARY KEY,
    BerlakuHingga DATE
);

CREATE TABLE MAHASISWA (
    NIM VARCHAR(10) PRIMARY KEY,
    NAMA VARCHAR(100),
    ALAMAT TEXT,
    KODE_JURUSAN VARCHAR(10),
    NoKTM CHAR(12),
    FOREIGN KEY (KODE_JURUSAN) REFERENCES JURUSAN(KODE),
    FOREIGN KEY (NoKTM) REFERENCES KTM(NoKTM)
);

CREATE TABLE PERKULIAHAN (
    ID_PERKULIAHAN VARCHAR(10) PRIMARY KEY,
    KODE_MK VARCHAR(10),
    NIP_DOSEN VARCHAR(18),
    SEMESTER VARCHAR(6),
    TAHUN_AJARAN VARCHAR(9),
    RUANGAN VARCHAR(10),
    FOREIGN KEY (KODE_MK) REFERENCES MATAKULIAH(KODE_MK),
    FOREIGN KEY (NIP_DOSEN) REFERENCES DOSEN(NIP)
);

CREATE TABLE NILAI (
    ID_NILAI VARCHAR(10) PRIMARY KEY,
    NIM VARCHAR(10),
    ID_PERKULIAHAN VARCHAR(10),
    NILAI_TUGAS DECIMAL(5,2),
    NILAI_UTS DECIMAL(5,2),
    NILAI_UAS DECIMAL(5,2),
    NILAI_AKHIR DECIMAL(5,2),
    GRADE CHAR(2),
    FOREIGN KEY (NIM) REFERENCES MAHASISWA(NIM),
    FOREIGN KEY (ID_PERKULIAHAN) REFERENCES PERKULIAHAN(ID_PERKULIAHAN)
);


-- Data untuk JURUSAN
INSERT INTO JURUSAN (KODE, NAMA_JURUSAN) VALUES
('TI', 'Teknik Informatika'),
('SI', 'Sistem Informasi');

-- Data untuk MATAKULIAH
INSERT INTO MATAKULIAH (KODE_MK, NAMA_MK, SKS, DESKRIPSI) VALUES
('MK001', 'Pemrograman Dasar', 3, 'Belajar dasar pemrograman'),
('MK002', 'Basis Data', 3, 'Belajar struktur dan manajemen database');

-- Data untuk DOSEN
INSERT INTO DOSEN (NIP, NAMA_DOSEN, ALAMAT, EMAIL, NO_TELP) VALUES
('198001012005011001', 'Dr. Andi Saputra', 'Jl. Merdeka 10', 'andi@kampus.ac.id', '081234567890'),
('197912032003021002', 'Prof. Siti Nurhaliza', 'Jl. Melati 12', 'siti@kampus.ac.id', '081298765432');

-- Data untuk KTM
INSERT INTO KTM (NoKTM, BerlakuHingga) VALUES
('KTM0012025', '2025-12-31'),
('KTM0022025', '2025-12-31');

-- Data untuk MAHASISWA
INSERT INTO MAHASISWA (NIM, NAMA, ALAMAT, KODE_JURUSAN, NoKTM) VALUES
('M001', 'Budi Santoso', 'Jl. Mawar 1', 'TI', 'KTM0012025'),
('M002', 'Ani Lestari', 'Jl. Kenanga 2', 'SI', 'KTM0022025');

-- Data untuk PERKULIAHAN
INSERT INTO PERKULIAHAN (ID_PERKULIAHAN, KODE_MK, NIP_DOSEN, SEMESTER, TAHUN_AJARAN, RUANGAN) VALUES
('PK001', 'MK001', '198001012005011001', 'Ganjil', '2024/2025', 'R101'),
('PK002', 'MK002', '197912032003021002', 'Genap', '2024/2025', 'R102');

-- Data untuk NILAI
INSERT INTO NILAI (ID_NILAI, NIM, ID_PERKULIAHAN, NILAI_TUGAS, NILAI_UTS, NILAI_UAS, NILAI_AKHIR, GRADE) VALUES
('N001', 'M001', 'PK001', 80.00, 75.00, 85.00, 80.00, 'B'),
('N002', 'M002', 'PK002', 90.00, 85.00, 88.00, 87.67, 'A');
