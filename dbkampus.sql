
-- Tabel DOSEN
CREATE TABLE DOSEN (
    NIP CHAR(10) PRIMARY KEY,
    Nama VARCHAR(50),
    Bidang VARCHAR(30)
);

-- Tabel MATAKULIAH
CREATE TABLE MATAKULIAH (
    KODE_MK VARCHAR(10) PRIMARY KEY,
    NAMA_MK VARCHAR(100),
    SKS INT,
    NIP_DOSEN CHAR(10),
    CONSTRAINT FK_DOSEN FOREIGN KEY (NIP_DOSEN) REFERENCES DOSEN(NIP) ON DELETE CASCADE
);

-- Tabel JURUSAN
CREATE TABLE JURUSAN (
    KODE CHAR(5) PRIMARY KEY,
    NAMA_JURUSAN VARCHAR(50)
);

-- Tabel MAHASISWA
CREATE TABLE MAHASISWA (
    NIM CHAR(10) PRIMARY KEY,
    NAMA VARCHAR(50),
    KODE_JURUSAN CHAR(5),
    CONSTRAINT FK_JURUSAN FOREIGN KEY (KODE_JURUSAN) REFERENCES JURUSAN(KODE)
);

-- Tabel PERKULIAHAN
CREATE TABLE PERKULIAHAN (
    ID_PERKULIAHAN INT PRIMARY KEY,
    KODE_MK VARCHAR(10),
    CONSTRAINT FK_MK FOREIGN KEY (KODE_MK) REFERENCES MATAKULIAH(KODE_MK)
);

-- Tabel NILAI
CREATE TABLE NILAI (
    ID_NILAI INT AUTO_INCREMENT PRIMARY KEY,
    NIM CHAR(10),
    ID_PERKULIAHAN INT,
    NILAI_AKHIR INT,
    CONSTRAINT FK_MHS FOREIGN KEY (NIM) REFERENCES MAHASISWA(NIM),
    CONSTRAINT FK_PERKULIAHAN FOREIGN KEY (ID_PERKULIAHAN) REFERENCES PERKULIAHAN(ID_PERKULIAHAN)
);

-- Data DOSEN
INSERT INTO DOSEN (NIP, Nama, Bidang) VALUES
('D001', 'Pak Budi', 'Informatika'),
('D002', 'Bu Sari', 'Sistem Informasi'),
('D003', 'Pak Andi', 'Data Science');

-- Data MATAKULIAH
INSERT INTO MATAKULIAH (KODE_MK, NAMA_MK, SKS, NIP_DOSEN) VALUES
('MK01', 'Algoritma', 3, 'D001'),
('MK02', 'Basis Data', 3, 'D001'),
('MK03', 'Manajemen SI', 2, 'D002'),
('MK04', 'AI Dasar', 3, 'D003');

-- Data JURUSAN
INSERT INTO JURUSAN (KODE, NAMA_JURUSAN) VALUES
('J01', 'Teknik Informatika'),
('J02', 'Sistem Informasi');

-- Data MAHASISWA
INSERT INTO MAHASISWA (NIM, NAMA, KODE_JURUSAN) VALUES
('M001', 'Andi', 'J01'),
('M002', 'Budi', 'J02'),
('M003', 'Citra', 'J01'),
('M004', 'Dina', 'J02'),
('M005', 'Eka', 'J01');

-- Data PERKULIAHAN
INSERT INTO PERKULIAHAN (ID_PERKULIAHAN, KODE_MK) VALUES
(1, 'MK01'),
(2, 'MK02'),
(3, 'MK03'),
(4, 'MK04');

-- Data NILAI
INSERT INTO NILAI (NIM, ID_PERKULIAHAN, NILAI_AKHIR) VALUES
('M001', 1, 85),
('M001', 2, 75),
('M002', 1, 45),
('M002', 3, 60),
('M003', 2, 92),
('M003', 4, 58),
('M004', 3, 40),
('M004', 4, 63),
('M005', 1, 55),
('M005', 2, 77);
